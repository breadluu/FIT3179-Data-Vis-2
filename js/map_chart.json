{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 600,
  "height": 500,
  "background": "white",
  "params": [
    {
      "name": "stateFilter",
      "value": "All",
      "bind": {
        "input": "select",
        "options": [
          "All", "ACT", "NSW", "NT", "QLD", "SA", "TAS", "VIC", "WA"
        ],
        "labels": [
          "All States", 
          "Australian Capital Territory",
          "New South Wales",
          "Northern Territory",
          "Queensland",
          "South Australia", 
          "Tasmania",
          "Victoria",
          "Western Australia"
        ],
        "name": "Select State: "
      }
    }
  ],
"projection": {
  "type": "mercator",
  "center": {
    "expr": "(stateFilter=='VIC') ? [145,-37] : (stateFilter=='NSW') ? [147,-33.5] : (stateFilter=='QLD') ? [147.5,-21.5] : (stateFilter=='WA') ? [121,-25] : (stateFilter=='SA') ? [136,-30] : (stateFilter=='TAS') ? [147.3,-42] : (stateFilter=='NT') ? [133,-19] : (stateFilter=='ACT') ? [149,-35.3] : [134,-25]"
  },
  "scale": { "expr": "stateFilter == 'All' ? 600 : 1800" },
  "translate": [350, 250]
},
  "resolve": {
    "scale": {"color": "independent"}
  },
  "layer": [
    {
      "data": {
        "url": "data/australia_states.topojson",
        "format": {"type": "topojson", "feature": "STE_2021_AUST_GDA2020"}
      },
      "mark": {
        "type": "geoshape", 
        "stroke": "#999", 
        "strokeWidth": 0.8
      },
      "encoding": {
        "color": {
          "field": "properties.STE_NAME21",
          "type": "nominal",
          "scale": {
            "range": [
              "#E8F5E9","#E3F2FD","#FFF8E1",
              "#F3E5F5","#E0F7FA","#FCE4EC",
              "#F1F8E9","#EDE7F6"
            ]
          },
          "legend": null
        }
      }
    },
    {
      "data": {"url": "data/state_labels.csv"},
      "mark": {
        "type": "text",
        "font": "Segoe UI",
        "fontWeight": "bold",
        "fontSize": 12,
        "color": "#333"
      },
      "encoding": {
        "longitude": {"field": "longitude", "type": "quantitative"},
        "latitude": {"field": "latitude", "type": "quantitative"},
        "text": {"field": "state_abbrev", "type": "nominal"}
      }
    },
    {
  "data": {"url": "data/au_tennis_venues.csv"},
  "mark": {
    "type": "circle", 
    "opacity": 0.9,
    "stroke": "#000000", 
    "strokeWidth": 1
  },
  "encoding": {
    "longitude": {
      "field": "longitude", 
      "type": "quantitative"
    },
    "latitude": {
      "field": "latitude", 
      "type": "quantitative"
    },
    "color": {
      "field": "surface",
      "type": "nominal",
      "title": "Surface Type/s"
    },
    "size": {
      "field": "tier",
      "type": "nominal",
      "scale": {
        "domain": ["Grand Slam", "International", "National", "Exhibition", "Community"],
        "range": [400, 80]
      },
      "legend": {"title": "Venue Tier"}
    },
    "tooltip": [
      {"field": "venue", "title": "Venue: "},
      {"field": "city", "title": "City: "},
      {"field": "state", "title": "State"},
      {"field": "surface", "title": "Surface Type/s: "},
      {"field": "notes", "title": "Venue Uses: "},
      {"field": "tier", "title": "Tier: "}
    ]
  }
}
  ],
  "title": {"text": "Major Tennis Venues Across Australia", "fontSize": 16},
  "config": {"view": {"stroke": "transparent"}}
}
